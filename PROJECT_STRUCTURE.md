# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ æ•´ä½“æ¶æ„

```
LLM-TextClassification/
â”œâ”€â”€ main.py                      # æ ‡å‡†è®­ç»ƒå…¥å£
â”œâ”€â”€ main_deepspeed.py            # DeepSpeedè®­ç»ƒå…¥å£
â”œâ”€â”€ ğŸ“ src/                      # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ ğŸ“ config/               # é…ç½®ç®¡ç†ï¼ˆåŒ…å«è®­ç»ƒå‚æ•°å®šä¹‰ï¼‰
â”‚   â”œâ”€â”€ ğŸ“ data/                 # æ•°æ®å¤„ç†
â”‚   â”œâ”€â”€ ğŸ“ models/               # æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ ğŸ“ training/             # è®­ç»ƒé€»è¾‘
â”‚   â”œâ”€â”€ ğŸ“ evaluation/           # è¯„ä¼°æ¨¡å—
â”‚   â””â”€â”€ ğŸ“ utils/                # å·¥å…·å‡½æ•°
â”œâ”€â”€ ğŸ“ scripts/                  # è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ train_deepspeed_r8.sh    # R8æ•°æ®é›†DeepSpeedè®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ train_deepspeed_sst2.sh  # SST2æ•°æ®é›†DeepSpeedè®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ eval_deepspeed_model.py  # DeepSpeedæ¨¡å‹è¯„ä¼°è„šæœ¬
â”‚   â”œâ”€â”€ run_eval_deepspeed.sh    # è¿è¡ŒDeepSpeedè¯„ä¼°çš„Shellè„šæœ¬
â”‚   â”œâ”€â”€ test_predict.py          # æµ‹è¯•é¢„æµ‹Pythonè„šæœ¬
â”‚   â”œâ”€â”€ run_test_prediction.sh   # è¿è¡Œæµ‹è¯•é¢„æµ‹çš„Shellè„šæœ¬
â”‚   â””â”€â”€ test_deepspeed.sh        # DeepSpeedæµ‹è¯•è„šæœ¬
â”œâ”€â”€ ğŸ“ configs/                  # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ ğŸ“ deepspeed/            # DeepSpeedé…ç½®
â”‚       â””â”€â”€ ds_config.json
â”œâ”€â”€ ğŸ“ outputs/                  # è¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ models/               # è®­ç»ƒå¥½çš„æ¨¡å‹
â”‚   â”œâ”€â”€ ğŸ“ results/              # è¯„ä¼°ç»“æœ
â”‚   â””â”€â”€ ğŸ“ logs/                 # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ ğŸ“ data/                     # æ•°æ®é›†
â”œâ”€â”€ ğŸ“ ckpt/                     # é¢„è®­ç»ƒæ¨¡å‹
â”œâ”€â”€ ğŸ“ docs/                     # æ–‡æ¡£

â”œâ”€â”€ requirements.txt              # ä¾èµ–åŒ…
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

## ğŸ¯ ç›®å½•åŠŸèƒ½è¯´æ˜

### **ä¸»å…¥å£æ–‡ä»¶**
- `main.py`: æ ‡å‡†è®­ç»ƒæµç¨‹å…¥å£
- `main_deepspeed.py`: DeepSpeedè®­ç»ƒæµç¨‹å…¥å£

### **src/** - æ ¸å¿ƒæºä»£ç 
- **config/**: æ•°æ®é›†é…ç½®ã€æ¨¡å‹é…ç½®ç­‰
- **data/**: æ•°æ®åŠ è½½ã€é¢„å¤„ç†ã€æ•°æ®é›†ç®¡ç†
- **models/**: æ¨¡å‹å®šä¹‰ã€æ¨¡å‹ç®¡ç†å™¨
- **training/**: è®­ç»ƒå™¨ã€è®­ç»ƒé€»è¾‘
- **evaluation/**: è¯„ä¼°å™¨ã€æµ‹è¯•é¢„æµ‹
- **utils/**: å·¥å…·å‡½æ•°ã€è¾…åŠ©åŠŸèƒ½

### **scripts/** - è„šæœ¬æ–‡ä»¶
- **train/**: å„ç§è®­ç»ƒè„šæœ¬ï¼ˆDeepSpeedã€æ ‡å‡†è®­ç»ƒï¼‰
- **eval/**: æ¨¡å‹è¯„ä¼°è„šæœ¬
- **test/**: æµ‹è¯•é¢„æµ‹è„šæœ¬
- **deepspeed/**: DeepSpeedä¸“ç”¨è„šæœ¬

### **configs/** - é…ç½®æ–‡ä»¶
- **deepspeed/**: DeepSpeedç›¸å…³é…ç½®
- **training/**: è®­ç»ƒç›¸å…³é…ç½®

### **outputs/** - è¾“å‡ºç›®å½•
- **models/**: è®­ç»ƒå¥½çš„æ¨¡å‹æ–‡ä»¶
- **results/**: è¯„ä¼°ç»“æœã€é¢„æµ‹ç»“æœ
- **logs/**: è®­ç»ƒæ—¥å¿—ã€é”™è¯¯æ—¥å¿—

## ğŸš€ ä½¿ç”¨æµç¨‹

### 1. è®­ç»ƒæ¨¡å‹
```bash
# ä½¿ç”¨æœ€ç»ˆè®­ç»ƒè„šæœ¬ï¼ˆæ¨èï¼‰
./train.sh                    # é»˜è®¤DeepSpeedè®­ç»ƒ
./train.sh -n 50             # å¿«é€Ÿæµ‹è¯•æ¨¡å¼
./train.sh -t standard       # æ ‡å‡†è®­ç»ƒ

# æˆ–ä½¿ç”¨å…·ä½“è„šæœ¬
./scripts/train_deepspeed_r8.sh
./scripts/train_deepspeed_sst2.sh
```

### 2. è¯„ä¼°æ¨¡å‹
```bash
# DeepSpeedæ¨¡å‹è¯„ä¼°
./scripts/run_eval_deepspeed.sh

# æµ‹è¯•é¢„æµ‹
./scripts/run_test_prediction.sh
```

### 3. é…ç½®æ–‡ä»¶
```bash
# DeepSpeedé…ç½®
configs/deepspeed/ds_config.json
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **è·¯å¾„æ›´æ–°**: é‡ç»„åï¼Œæ‰€æœ‰è„šæœ¬ä¸­çš„è·¯å¾„å¼•ç”¨éœ€è¦ç›¸åº”æ›´æ–°
2. **é…ç½®æ–‡ä»¶**: ç¡®ä¿é…ç½®æ–‡ä»¶è·¯å¾„æ­£ç¡®
3. **è¾“å‡ºç›®å½•**: æ–°çš„è¾“å‡ºç›®å½•ç»“æ„æ›´åŠ æ¸…æ™°
4. **æ¨¡å—å¯¼å…¥**: ç¡®ä¿Pythonæ¨¡å—å¯¼å…¥è·¯å¾„æ­£ç¡®

## ğŸ”§ ç»´æŠ¤å»ºè®®

1. **å®šæœŸæ¸…ç†**: å®šæœŸæ¸…ç† `outputs/logs/` ä¸­çš„æ—§æ—¥å¿—
2. **æ¨¡å‹ç®¡ç†**: åœ¨ `outputs/models/` ä¸­æŒ‰é¡¹ç›®ç»„ç»‡æ¨¡å‹æ–‡ä»¶
3. **ç»“æœå½’æ¡£**: å°†é‡è¦çš„è¯„ä¼°ç»“æœå½’æ¡£åˆ° `outputs/results/`
4. **é…ç½®ç‰ˆæœ¬**: ä¸ºä¸åŒå®éªŒä¿å­˜é…ç½®æ–‡ä»¶ç‰ˆæœ¬
